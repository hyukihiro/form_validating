!function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/assets/scripts/",r(r.s=27)}([function(e,t,r){"use strict";var n=r(3),s=r(9),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function a(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===o.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(null,e[s],s,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:s,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,s=arguments.length;n<s;n++)u(arguments[n],r);return t},extend:function(e,t,r){return u(t,function(t,s){e[s]=r&&"function"==typeof t?n(t,r):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,r){"use strict";(function(t){var n=r(0),s=r(12),o={"Content-Type":"application/x-www-form-urlencoded"};function i(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,c={adapter:("undefined"!=typeof XMLHttpRequest?a=r(4):void 0!==t&&(a=r(4)),a),transformRequest:[function(e,t){return s(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(i(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(i(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],function(e){c.headers[e]={}}),n.forEach(["post","put","patch"],function(e){c.headers[e]=n.merge(o)}),e.exports=c}).call(this,r(11))},function(e,t,r){e.exports=r(8)},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(0),s=r(13),o=r(15),i=r(16),a=r(17),c=r(5),u="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||r(18);e.exports=function(e){return new Promise(function(t,l){var h=e.data,d=e.headers;n.isFormData(h)&&delete d["Content-Type"];var f=new XMLHttpRequest,p="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in f||a(e.url)||(f=new window.XDomainRequest,p="onload",m=!0,f.onprogress=function(){},f.ontimeout=function(){}),e.auth){var _=e.auth.username||"",y=e.auth.password||"";d.Authorization="Basic "+u(_+":"+y)}if(f.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f[p]=function(){if(f&&(4===f.readyState||m)&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in f?i(f.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?f.response:f.responseText,status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:r,config:e,request:f};s(t,l,n),f=null}},f.onerror=function(){l(c("Network Error",e,null,f)),f=null},f.ontimeout=function(){l(c("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",f)),f=null},n.isStandardBrowserEnv()){var v=r(19),g=(e.withCredentials||a(e.url))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;g&&(d[e.xsrfHeaderName]=g)}if("setRequestHeader"in f&&n.forEach(d,function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete d[t]:f.setRequestHeader(t,e)}),e.withCredentials&&(f.withCredentials=!0),e.responseType)try{f.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){f&&(f.abort(),l(e),f=null)}),void 0===h&&(h=null),f.send(h)})}},function(e,t,r){"use strict";var n=r(14);e.exports=function(e,t,r,s,o){var i=new Error(e);return n(i,t,r,s,o)}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){"use strict";var n=r(0),s=r(3),o=r(10),i=r(1);function a(e){var t=new o(e),r=s(o.prototype.request,t);return n.extend(r,o.prototype,t),n.extend(r,t),r}var c=a(i);c.Axios=o,c.create=function(e){return a(n.merge(i,e))},c.Cancel=r(7),c.CancelToken=r(25),c.isCancel=r(6),c.all=function(e){return Promise.all(e)},c.spread=r(26),e.exports=c,e.exports.default=c},function(e,t){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,r){"use strict";var n=r(1),s=r(0),o=r(20),i=r(21);function a(e){this.defaults=e,this.interceptors={request:new o,response:new o}}a.prototype.request=function(e){"string"==typeof e&&(e=s.merge({url:arguments[0]},arguments[1])),(e=s.merge(n,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[i,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},s.forEach(["delete","get","head","options"],function(e){a.prototype[e]=function(t,r){return this.request(s.merge(r||{},{method:e,url:t}))}}),s.forEach(["post","put","patch"],function(e){a.prototype[e]=function(t,r,n){return this.request(s.merge(n||{},{method:e,url:t,data:r}))}}),e.exports=a},function(e,t){var r,n,s=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var c,u=[],l=!1,h=-1;function d(){l&&c&&(l=!1,c.length?u=c.concat(u):h=-1,u.length&&f())}function f(){if(!l){var e=a(d);l=!0;for(var t=u.length;t;){for(c=u,u=[];++h<t;)c&&c[h].run();h=-1,t=u.length}c=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new p(e,t)),1!==u.length||l||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=m,s.addListener=m,s.once=m,s.off=m,s.removeListener=m,s.removeAllListeners=m,s.emit=m,s.prependListener=m,s.prependOnceListener=m,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){n.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})}},function(e,t,r){"use strict";var n=r(5);e.exports=function(e,t,r){var s=r.config.validateStatus;r.status&&s&&!s(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,s){return e.config=t,r&&(e.code=r),e.request=n,e.response=s,e}},function(e,t,r){"use strict";var n=r(0);function s(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var o;if(r)o=r(t);else if(n.isURLSearchParams(t))o=t.toString();else{var i=[];n.forEach(t,function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),i.push(s(t)+"="+s(e))}))}),o=i.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},function(e,t,r){"use strict";var n=r(0),s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,o,i={};return e?(n.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),r=n.trim(e.substr(o+1)),t){if(i[t]&&s.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([r]):i[t]?i[t]+", "+r:r}}),i):i}},function(e,t,r){"use strict";var n=r(0);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function s(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=s(window.location.href),function(t){var r=n.isString(t)?s(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function s(){this.message="String contains an invalid character"}s.prototype=new Error,s.prototype.code=5,s.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,r,o=String(e),i="",a=0,c=n;o.charAt(0|a)||(c="=",a%1);i+=c.charAt(63&t>>8-a%1*8)){if((r=o.charCodeAt(a+=.75))>255)throw new s;t=t<<8|r}return i}},function(e,t,r){"use strict";var n=r(0);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,s,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(s)&&a.push("path="+s),n.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var n=r(0);function s(){this.handlers=[]}s.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},s.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},s.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=s},function(e,t,r){"use strict";var n=r(0),s=r(22),o=r(6),i=r(1),a=r(23),c=r(24);function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return u(e),e.baseURL&&!a(e.url)&&(e.url=c(e.baseURL,e.url)),e.headers=e.headers||{},e.data=s(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||i.adapter)(e).then(function(t){return u(e),t.data=s(t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=s(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t,r){return n.forEach(r,function(r){e=r(e,t)}),e}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(7);function s(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new n(e),t(r.reason))})}s.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},s.source=function(){var e;return{token:new s(function(t){e=t}),cancel:e}},e.exports=s},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";r.r(t);var n=r(2),s=r.n(n);const o=e=>"string"==typeof e,i=e=>void 0===e,a=e=>null===e,c=e=>Array.isArray(e),u=e=>"function"==typeof e,l=(e="")=>!!o(e)&&/^[ァ-ロワヲンー ｧ-ﾝﾞﾟ|^　|]*$/.test(e),h=(e,t=!0)=>!!o(e)&&(t?/^\d{3}-|−?\d{4}$/.test(e):/^\d{3}\d{4}$/.test(e)),d=e=>!!o(e)&&/^((0(\d{1}[-(]?\d{4}|\d{2}[-(]?\d{3}|\d{3}[-(]?\d{2}|\d{4}[-(]?\d{1}|[5789]0[-(]?\d{4})[-)]?)|\d{1,4}\-?)\d{4}$/.test(e),f=e=>!!o(e)&&/^[0-9]*$/.test(e),p=e=>!!o(e)&&/^[a-zA-Z0-9!$&*.=^`|~#%'+\/?_{}-]+@([a-zA-Z0-9_-]+\.)+[a-zA-Z]{2,4}$/.test(e),m=e=>!!o(e)&&/[0-9０-９]/.test(e),_={},y=e=>{if(_[e])return _[e];const t=new RegExp(`(^|\\s+)${e}(\\s+|$)`);return _[e]=t,t},v=(e,t)=>{const r=e.className;return!(!r||0===r.length)&&(r===t||y(t).test(r))},g=(e,t)=>{if(a(e))return;const r=e.className;v(e,t)||(e.className+=(r?" ":"")+t)},w=(e,t,r)=>{if(a(e))return;const n=e.className;let s="";(r||v(e,t))&&(s=(e=>e.replace(/^\s+|\s+$/g,""))(n.replace(y(t)," ")),e.className=s)},E=(e,t)=>{c(t)&&t.forEach(t=>w(e,t))};const b=new class{constructor(e,t){this._url=e,this.methodType=t}getUrl(e){let t=this._url;return u(t)&&(t=this._url(e)),t}}(e=>`http://localhost/api/v1/?zipcode=${e.zipcode}`,"get"),x=e=>({type:"successAddress",data:e}),S=e=>({type:"failedAddress",data:e}),A=e=>({type:"startAddressByZipCode",payload:e,success:x,fail:S,apiMethod:b}),C=e=>({type:"fetchAddressByZipCode",action:A(e),payload:e});var N=new class{get(e,t){return new Promise((r,n)=>{s()({url:e,method:"get",params:t}).then(e=>{const t=e.data;return 200===e.status?r(t):n({message:t.message,status:t.status})}).catch(e=>{n(e)})})}};let T=!1;const k=e=>{if(!(e=>e===Object(e))(e))throw new Error("action must be an object");if(i(e.type))throw new Error("action must have type");if(T)throw new Error("may not dispatch actions");try{T=!0}finally{T=!1}return e},j=(e,t)=>{if(e&&!i(e)&&!i(e.apiMethod)){const r=r=>{k(e.success({response:r,requestAction:e})),t(e.success({response:r,requestAction:e}))},n=r=>t(k(e.fail(r)));if(c(e.apiMethod)&&i(e.apiMethod))Promise.all(e.apiMethod.map((t,r)=>{const n=t.methodType,s=e.getUrl(e.payload[r]);return t?N[n](s,e.payload[r]):null})).then(r).catch(n);else{const t=e.apiMethod;N[t.methodType](t.getUrl(e.payload),e.payload).then(r).catch(n)}k(e)}},B="is-error-type",q="is-error-required",R="is-error-different";new class{constructor(e){this._container=e,this._state={},this._maxStatus=0,this._timer=-1,this._items=null,this._postcode0=null,this._postcode1=null,this._addresField=null,this._firstName=null,this._lastName=null,this._email0=null,this._email1=null,this._firstNameKana=null,this._lastNameKana=null,this._extraItems=null,this._submitBtn=null,this._famiyContents=null,this._validate=this._validate.bind(this),this._validateEmail=this._validateEmail.bind(this),this._validateKatakana=this._validateKatakana.bind(this),this._validateNumber=this._validateNumber.bind(this),this._validateRequired=this._validateRequired.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeydown=this._onKeydown.bind(this),this._onSelectChange=this._onSelectChange.bind(this),this._classStates={danger:"is-danger",success:"is-success",btnEnable:"is-btn-enable"}}init(){this._addresField=document.querySelector(".js-postcode-target"),this._submitBtn=document.getElementById("js-submit"),this._selectbox=document.getElementById("m_tomo_type_id"),this._famiyContents=document.getElementById("js-family-wrap"),this._extraItems=document.querySelectorAll(".family-member"),this._selectbox.addEventListener("change",this._onSelectChange),this._setItems()}async _setItems(){console.log("_setItems"),this._items=this._container.querySelectorAll(".form-item:not(.is-hide)"),this._maxStatus=this._items.length,this._items.forEach(e=>{let t={};e.hasAttribute("data-json")&&(t=JSON.parse(e.dataset.json)),e.myValidateData=t;const r=t["data-name"],n=e.tagName.toLowerCase();let s=!1;switch(a(t["validate-required"])||"true"!==t["validate-required"]||(s=!0),this._state[r]=!s,"input"!==n&&"textarea"!==n||(e.addEventListener("blur",this._onBlur),e.addEventListener("keydown",this._onKeydown),e.addEventListener("keypress",this._onKeypress)),r){case"name_sei":this._lastName=e;break;case"name_mei":this._firstName=e;break;case"kana_sei":this._lastNameKana=e;break;case"kana_mei":this._firstNameKana=e}})}_onBlur(e){const t=e.target,r=t.myValidateData["data-name"];"zip1"===r?(this._postcode0=t.value,this._checkZipCode()):"zip2"===r&&(this._postcode1=t.value,this._checkZipCode()),this._validate(t)}_onKeydown(e){const t=e.target;-1!==this._timer&&window.clearTimeout(this._timer),this._timer=setTimeout(()=>{this._validate(t)},300)}_onKeypress(e){if(e.which&&13===e.which||e.keyCode&&13===e.keyCode)return e.preventDefault(),!1}async _onSelectChange(e){console.log("_onSelectChange");const t=e.target.value.slice(-1);await this._resetState(),await this._hideExtraElem(),await this._deleteExtraElemValues(),await this._removeClasses(this._extraItems),await this._openExtraElem(t),await this._setItems(),await this._validateAll(),await this._checkAll()}async _resetState(){console.log("_resetState");for(const e in this._state)delete this._state[e]}async _hideExtraElem(){console.log("_hideExtraElem"),this._extraItems.forEach(e=>{const t=e;e.style.display="none",t.querySelectorAll(".form-item").forEach(e=>{e.classList.add("is-hide")})}),console.log("_hideExtraElem done")}async _openExtraElem(e){console.log("_openExtraElem"),this._famiyContents.style.display=e>=2?"block":"none";for(let t=0,r=e-1;t<r;t++){this._extraItems[t].style.display="block";const e=this._extraItems[t].querySelectorAll(".form-item");for(let t=0;t<e.length;t++)e[t].classList.remove("is-hide")}}async _deleteExtraElemValues(){console.log("_deleteExtraElemValues"),this._extraItems.forEach(e=>{e.querySelectorAll(".form-item.is-text").forEach(e=>{e.value=""})})}async _removeClasses(e){console.log("_removeClasses"),e.forEach(e=>{e.querySelectorAll(".form-module").forEach(e=>{E(e,[B,q])})})}async _validateAll(){console.log("_validateAll");const e=document.querySelectorAll(".form-item:not(.is-extra)");for(let t=0;t<e.length;t++){const r=e[t];if(r.value<=0)return;this._validate(r)}}_validate(e){const t=e.myValidateData,r=t["validate-type"],n=JSON.parse(t["validate-required"]),s=t["data-name"];if(r)switch(r){case"katakana":this._validateKatakana(e,s,n);break;case"email":this._validateEmail(e,s,n);break;case"email-confirm":this._validateEmailConfirm(e,s,n);break;case"num":this._validateNumber(e,s,n);break;case"tel":this._validateTel(e,s,n);break;default:console.log("in default")}else this._validateRequired(e,s,n)}_validateEmail(e,t,r){const n=e.value,s=e.parentNode.parentNode;this._email0=n,r?n.length<=0?(this._showError(s,q),this._hideError(s,B),this._state[t]=!1):n.length<=0||!p(n)?(this._showError(s,B),this._hideError(s,q),this._state[t]=!1):(E(s,[B,q]),this._state[t]=!0):this._state[t]=!(0!==n.length&&!p(n)),this._checkAll()}_validateEmailConfirm(e,t,r){const n=e.value,s=e.parentNode.parentNode;this._email1=n,console.log("this._email0",this._email0),console.log("this._email1",this._email1),r?n.length<=0?(this._showError(s,q),this._hideError(s,B),this._hideError(s,R),this._state[t]=!1):n.length<=0||!p(n)?(this._showError(s,B),this._hideError(s,q),this._hideError(s,R),this._state[t]=!1):this._email0!==this._email1?(this._showError(s,R),this._hideError(s,B),this._hideError(s,q),this._state[t]=!1):(E(s,[B,q,R]),this._state[t]=!0):this._state[t]=!(0!==n.length&&!p(n)),this._checkAll()}_validateNumber(e,t,r){const n=e.value,s=e.parentNode.parentNode;r?n.length<=0?(this._showError(s,q),this._hideError(s,B),this._state[t]=!1):n.length<=0||!f(n)?(this._showError(s,B),this._hideError(s,q),this._state[t]=!1):(E(s,[B,q]),this._state[t]=!0):this._state[t]=!!(n.length<=0||m(n)),this._checkAll()}_validateKatakana(e,t,r){const n=e.value,s=e.parentNode.parentNode;r?n<=0?(this._showError(s,q),this._hideError(s,B),this._state[t]=!1):n<=0||!l(n)?(this._showError(s,B),this._hideError(s,q),this._state[t]=!1):(E(s,[B,q]),this._state[t]=!0):this._state[t]=!!(n<=0||l(n)),this._checkAll()}_validateTel(e,t,r){const n=e.value,s=e.parentNode.parentNode;r?n.length<=0?(this._showError(s,q),this._hideError(s,B),this._state[t]=!1):n.length<=0||!d(n)?(this._showError(s,B),this._hideError(s,q),this._state[t]=!1):(E(s,[B,q]),this._state[t]=!0):this._state[t]=!!(n.length<=0||m(n)),this._checkAll()}_validateRequired(e,t,r){const n=e.value,s=e.parentNode.parentNode;r?(n<=0?this._showError(s,q):this._hideError(s,q),this._state[t]=!(e.value>=0)):this._state[t]=!0,this._checkAll()}async _checkAll(){this._maxStatus=Object.keys(this._state).length;let e=0;Object.values(this._state).forEach(t=>{t&&e++}),this._changeSubmitState(!(e!==this._maxStatus))}_showError(e,t){v(e,t)||g(e,t)}_hideError(e,t){v(e,t)&&w(e,t)}_changeSubmitState(e){e?g(this._submitBtn,this._classStates.btnEnable):w(this._submitBtn,this._classStates.btnEnable)}_checkZipCode(){const e=`${this._postcode0}${this._postcode1}`;h(e)&&this._fetchAddress(e)}_fetchAddress(e){const t=C({zipcode:e}).action;j(t,e=>{const{data:t}=e,{response:r}=t,{status:n}=r,{results:s}=r;200!==n||a(s)?console.log("log"):this._updateAddressByZipCode(s[0])})}_updateAddressByZipCode(e){const t=`${e.address1}${e.address2}${e.address3}`;this._addresField.value=t,this._validateRequired(document.getElementById("address1"),"address1",!0)}}(document.getElementById("js-form")).init()}]);